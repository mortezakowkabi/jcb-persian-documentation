# ADVANCED FIELDS

There are a few advanced field types and the one that is most advanced, is the one called custom field type.  Sorting it by custom fields, you will see that we have quite a few custom fields in place. [00:00:32](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h00m32s) 

**Local File List Example**

Let us look at two of these. One is the local(file list), the other one is 'sermon'. But let us first look at the local(file list). You will see that the whole 'XML field definition' column is simply PHP. So I'm creating a view which is most basically taking information (if you know PHP), from the global settings of your component so there need to be a field with a name 'localfolder' in your global settings. We will look at how to set up global settings when we get to component. If it hasn't got a setting it falls back onto the image which is in the 'JPATH ROOT'. For your component this will be replaced with your component name. And it puts it into local folder. [00:01:36](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h01m36s) 

Then I just start the options array, which you going to return. The first thing I add to it is select 'Please add files'. If there isn't files it will say 'Please add files' to, and it will give the local folder name. If there is files we are going to update those at 'JFolder'. So first we bring in the file system classes from Joomla, then we check whether that folder exists. If it doesn't exist we create it just in the field type. Now once it's created and if it exists it obviously skips this(see video)it doesn't go in there and it just starts by grabbing all the files from that folder and place it into files and then starts up an array [00:02:40](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h02m40s) where it loops the files and put it into options. By doing that we are adding the file name($file) and the file name($file) to our options array. Then returning the options array. So you can add your own custom PHP scripting when you extend a list field. We are extending list field. So it is just going to be a drop down list of all the files in that specific folder. Either images or the folder that it was set globally in local folder. So this is just setting up a folder. 

Now there is a field type called 'file list'. The reason why I didn't use file list is because file list has a static directory to where [00:03:44](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h03m44s) you need to add the files, so that you can view them. We want it to be able to rename the folder for the files, for the media, to anything and then have it update itself automatically. That is why we then created a custom field where we extended the list type, and let me just refreshed this to get that detail back. So we chose a custom field and then we just extend the list type, and we don't want it to add 'new button' because it won't work, it will just break. We are allowing them to select multiple. Now since we are using multiple we need to go back and make sure that we are storing it as a 'JSON'. So the 'JSON' is when you have 'multiple' or 'arrays', or any kind of arrays in a value, that needs to be stored as a 'JSON'. [00:04:48](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h04m48s) The component builder itself will check if the multiple selection is true, it will automatically store it in a 'JSON' object even if you forget to select 'JSON'. There are things in place to ensure that the system behaves as expected. 






 

**Sermon Preacher Custom Field**

Let's look at how to create a sermon preacher custom field. So basically it's a preacher custom field. So what is this field going to do?  It is going to show a list of preachers. But is going to display the preachers that are set up in the preacher list view. So let's open that(sermonpreacher). The convention [00:05:52](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h05m52s) is that you would call the type: preachers, that's the list view name. But you'd called the name you would use the same as the editing name which is preacher without the s. If you go back to your admin views you would use this name as the name of the field, but you would use that name as the type. Because you now creating a custom type, and the logic behind it, it's going to show a list of preachers but you going to select just one preacher. That's just the logic. The label you can really put whatever you like, whatever is descriptive enough for your user to understand. And then there's a place for adding a description. Then here we are set multiple to false. We want them to only be able to select one preacher at a time. 'Default 0' these are all basically left to their default values and [00:06:56](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h06m56s) extending list, is the most common custom field that we have. If you want to receive a list of custom fields that is available, you can go up here to extend and you see that list, radio and check boxes are available. I think I should update that to also say users. User is also a user option to extend users. If you want to see what is available then look at that name 'Jformfield' and go to component builder. Go to the back end of component builder, that would be: 'administrator', 'components', 'component builder'. Then go to compiler, that's a folder, then go to Joomla 3, which is the current version we are targeting. 

**Jform in Component Builder**

Then search for that Jform. There's it is Jform. [00:08:00](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h08m00s) Ones that are available to extend let's see it's the user, Jform field user, it must be Jform field. So JForm field user, Jform field radio, Jform field list, Jform field checkboxes. This also means if there is a form field you want to extend that doesn't exist already in our advanced seminar, we will show you how to add your own form fields here. There is basically two places you will need to change. I wish I could tell you now one of them would be to add the field and update it accordingly. And the other one would be to add it in a few places in the code. And also in a Json file called settings there. Those are some of the things we will deal with in advanced adaptation of component builder. [00:09:04](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h09m04s) 

**Extending List in Custom Field**

We will still set up that series very soon it's not finished yet though. Getting back to extending a list field, you simply add there list. Then there's also a few conventions. One of them being that if you are going to be targeting, like this example, we are targeting the preachers. You will be using the preacher table as the table that is being targeted. The question to ask is: Where is the data going to be found? That is the table that needs to be added. In which component is it going to be found? That is what's need to be added by component. Now the reason why we have this ### component### here, because it's a placeholder which component builder will replace with the components code name [00:10:08](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h10m08s) once it's built. It's a feature we added because some times we want to rename components. If you had statically added the actual component name there, and in every field go and update that name, and in every view go and update that name. Every where you actually statically added the components name, you will need to update it. 

To explain to you exactly what the system is doing, I can go to components, open sermon distributor. Take the 'Name in code', like that(sermondistributor), copy, and see that it's lowercase c ,if it was a uppercase like that(C), it mean it would mean that you have to place the component [00:11:12](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h11m12s) name as well with an uppercase. So we would just do a lowercase s. That is actually what the system is doing. It actually is just replacing these place holders with the actual component name on the fly. Using the placeholders saves you time in the long run. From making changes everywhere, if you make a change to components name. Which is quite normal to do very often you start with the component and you think of calling it something and later realized that name is actually been used in the Joomla repository, and you need to choose another name. And to do that is going to affect the whole component and so we added this placeholder structure which should make the data less painful at least. 

Anywhere in all the code custom coding that you're adding and you need to use the components name, [00:12:16](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h12m16s) you can simply use this ### tag format of replacement. In some areas you would need to use brackets like that [[[. But most of the time it will work either way. The best measure to ensure is to try it with a # first and if you go into the code and you see it didn't replace it, then you know it's the angle brackets[[[ that needs to be used anyway. In this case we are using these ### sign characters. The view again, that is this single variable of the view. If we were to close, and go to the view(admin) which would be then preacher, all lowercase, is what you would be adding here. Make sure that it's always lowercase. [00:13:20](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h13m20s) 

Then the list view or the views plural, would be the add value there. All lowercase as well and then the value field is the field that the user will see. That is what is visible in the UI user interface. The key field is the value that will be stored in the database. These field relate to this table(#-###component###-preacher). Inside this table, what field do you want the user to see? That would be the name of the preacher. And inside this table, what field would you want to store in the other database? Because we are looking into preacher but we going to store it wherever this field is being used. That would be the ID and the column name in that data base of that view where this field will be used, will be called [00:14:24](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h14m24s) preacher. To show that to you in the database itself. You can open it there, scroll down to sermon distributor, open sermons, click on structure, and here in the back end. Let's close this, go to sermons, click 'new' and we will see that there is a place for preacher. If I was to look with firebug at it, we'll see that it is the name is preacher and remember we spoke about this Jform_ as the ID. But it's actually simply the preacher field which is being stored directly in the database in the preacher [00:15:28](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h15m28s) column of the table. It's stored as int 11 and that was set up here. Int 11 and we say that it is a key. We can target it. Here at the bottom if we look at indexes, we'll see that it has actually added it as a key. There we go. 

**Custom PHP layout in Field Definition**

That all is done right here in the database structure and then in this area here. Again in this part which you can add your own custom PHP. The fact that I'm using 19, 18, 17, it's just creating line breaks and spacing and tabs for me dynamically. I could have placed them all under PHP one, without this quotation marks. [00:16:32](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h16m32s) Wrapping around them all like we just did with the file folder list view example we did previously. Just a note inside of this code, you cannot use quotation marks, you need to use single quotes. Unfortunately at this stage it is not able to accommodate your even if you try to do an escape it will not behave as it's as you might expect. So my apologies for that. At this stage you can only do single quotes between these two quotations, double quotes. 
That is adding a custom field which is a little bit more advanced. If you know PHP you will know exactly what's happening here. 

**Built Code for Sermon Preacher**

These place holders reflect back to these(key_field_id) values here. So basically a.###ID### will be written there [00:17:36](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h17m36s) and the text value which is the field value is going to be called a.###name### and then ###ID### and ###code_text###. This code is build-up by the view that we are in, and the text, so this would read sermon preacher in the code. I can go show you how it looks when it builds it. Let's quickly look at that. To show you where it starts, let's open jformfieldlist. That is what it starts with, it replaces this place holder with your code. It replaces all these features up here as well and updates that(see video) and [00:18:30](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h18m30s) every where you see these things(###component###), it's going to be updated through component builder. Everything up here(selected area) will be replaced with your licensing tags. Let's look at the finished product. Sermon it's placed on the model field and there is preachers. Open it, [00:18:57](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h18m57s) you would see that it added preacher there, and in the input add it and it also shows you where, if you had trip that switch like we have explained to show the line numbers in your component. It shows you in what file. These files are found, if [00:19:15](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h19m15s) you go to component builder, under helpers compiler. These are the files that is being used to compile your component. I'll when we go to the advanced section, I'll go much more in-depth in regards to these files. 

**Generate a New Button**

Now we just trying to get across how to build a component. [00:19:40](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h19m40s) Not to extend component builder itself as yet. At least here you can see where in the code it is building this and compiling this and putting it together. Remember we talked about getting the structure, let's [00:19:59](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h19m59s) go down. This(see video) is used for the button. This is to generate a new button. When you click on new, that(selected area) is the button. This area from there to there is generating the button. This is what controls whether the button should show up or whether it shouldn't.  [00:20:21](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h20m21s) Even if it is to be set at all this is what generates the button. This area here, the 'get options', you will see, we said that it will show the name, and it will show ID. Go back to our structure here, we dynamically replaces these(###ID###,###name###) with those(view preachers). The reason for it is actually done a few times. [00:20:48](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h20m48s) I felt like let's make it that you only need to update these values and then if you gets updated all over in the bottom of the code. It makes it just much more easy to change your custom fields. It build a field called preacher name. Which again it uses here(preacher_name) as a object value. Because it [00:21:17](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h21m17s) retrieves the object from the database and it looks as if that object exists it actually reiterates and builds up option list which is returned to use in the drop down. It dynamically generates your list. So component builder through that infrastructure what I have [00:21:37](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h21m37s) Just explained here, compiles all of that code for you. And puts it in the right file in the right place and all of that. Once you build a component and you know where you have made those changes in component builder, you can go look at those files if you know how to build a Joomla website. I used the same conventions as decor in regards to implementation of your files. [00:22:07](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h22m07s) At the moment we are only pulling values that are published. This is what it is all about. That is the custom fields. 

**Dropbox Custom List Example**

We can quickly look at Dropbox manual file list. [00:22:36](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h22m36s) This one is much more advanced. What we are dealing with here is a file that is stored. What I did is I created a function in my component global helper function called 'getDropboxlinks'. It tells you it [00:23:02](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h23m02s) wants manual links and it passes a specific variable '2'. And it would return a bunch of links and those links, it will check if it exists. Check the array not only that it is an array but it has values in it. And if it does, it actually just backs it into the options [00:23:24](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h23m24s) And gives it over to the options array, to the list. 

**Component Helper Class**

This part here means that you can in your custom field types, you can add a helper static method call, [00:23:44](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h23m44s) if you know what those two symbols(::) there mean. It means it is a static method being called from a class. Now this class is something that if you know the Joomla API and know how to work builder component, you will know that you can add to any component what is known as a component helper class. [00:24:07](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h24m07s) If I was to go to sermon distributor, the component helper class is always located in the helper folder of the admin as well as the site view. The admin is then in the back end in which administrative components. [00:24:28](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h24m28s) There is the component and there is its helper folder. The front end you have the same convention, component, sermon distributer, and there is the helper structure. Here is some of the [00:24:49](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h24m49s) script of sermon distributor structures through its helper structure. There is the helper file for the front. Here is helper file for the back.

Now to add methods [00:25:09](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h25m09s) to the already helper files. If you want to know what all the custom helpers is that we ship with all components. You can open component builder. You can go to the compiler. Go to Joomla 3 and then look for the helper file in the site helper file. [00:25:30](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h25m30s) If you open it you will see a whole lot of helper methods. Obviously with a lot of place holders which we will customized for each component that it targets that component. You would see there is a Json to string method here just to 'getvars'. There's a 'getvar' singular. This is just to get one variable from the database so you don't need to to rewrite [00:25:55](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h25m55s) this whole string to get just one variable. You can come and look at how this works and use this to get a variable from the database. We also have 'ispublished' to check if a specific object is published and again actions. [00:26:14](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h26m14s) This is way beyond the scope of just looking at custom fields. We will go into great depth into all the features of a helper structures that when we deal with advanced concepts. But I'm just giving you a heads up so at least you can start looking at it and possibly get yourself going. I wrote these functions, checkobject, checkarray, checkstring, [00:26:40](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h26m40s) checkJson, shorten, mergearrays, savestring, and HTMLescape, replacenumbers, this one I'm using quite often. If you do savestring [00:26:58](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h26m58s) we change every number in the string immediately to text, so that you can be sure whatever you get back from savestring doesn't have numbers in it. This is sometimes quite necessary all the time. Especially if you don't know if there might be a number, that the first Character might be a number. [00:27:20](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h27m20s) This way we are insuring that it is always text. 

**Strings**

There is a whole bunch of custom methods that we ship with all components that are developed. So if you were to open like I have said, sermon distributors, [00:27:40](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h27m40s) helper class, you will see that these helper classes are all showing up here. Getactions, shortenstring, mergearray. So you can come and any of you feel that the methods that I have used here is archaic or outdated, [00:28:00](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h28m00s) please go on the forums at Github and talk with me about it. I will gladly look at it and see. I know I recently tried to improve on this checkstring by doing that(adding {}). So I could actually dump this part(&& strlen($string)>) and save on [00:28:22](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h28m22s) the query. But for some strange reason this started causing problems all over and strings that were strings were being returned as not being strings. But what I can tell you is that I  [00:28:41](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h28m41s) went back to the old school way of doing it. Which is this way(taking out the {}). I don't know there might be an easier way. Obviously we first want to ensure that it's set. That this value is set. And then it is a string and then it actually has a length you see something can be a string and yet don't have a length. [00:29:04](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h29m04s) I might be wrong on that and yet this is what I found. I've only been coding and PhP for 3 years now. You can teach me a few things. You have been at it longer than I am. 

Back to the UI. That is where I get these values. Showing it to you in here, go up a bit [00:29:29](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h29m29s) where it says getDropboxlinks. We see that it has this thing of return which is set to false. That means if I only was to say, that it should return the manual values. Then it will only return the value manual links. But since I've set it [00:29:52](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h29m52s) to 2, it will return all of those links and not just one of them. Because you can target that it returns one specific sermons link. This method is quite dynamic. That is all that I'm calling in this advanced [00:30:15](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h30m15s) field type which is called custom field. And it gives me an array of all the links which I just load like I have explained. That is again as you can see quite advanced implementation of this custom fields. [00:30:37](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h30m37s) I hope you would realize, there you can do anything. With that list conception you could even grab a bunch of website names from somewhere. You can put any PHP in there and build a list which can be used to save to the database. That would be the custom fields. 

**Custom User**

There's also one called custom user. The custom user at the moment doesn't look like I have any [00:31:08](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h31m08s) in the demo data for you. I just click on new and then select custom user. You'd see that the custom user basically, you don't need to set or change anything from [00:31:25](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h31m25s) here to there. All those should actually just work. The only part that you want to consider removing, would be the PHP, This part here(see video). Basically what this part does, it limits the user list [00:31:47](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h31m47s) to only a certain group. That means again you need to set up a global value in your component field. In our Global, remember we talked about that previously. The options button, if you click on options, [00:32:07](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h32m07s) it opens a place which you set global. These are all global values. This is a area for global values. You can get hold of those global values through the component helper, getparams with a component name. And get when there(###text###) you would place the field name. [00:32:28](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h32m28s) That's how you can get a value from your global settings. And basically I'm getting a specific groups value and placing it in here(groups). And then I am returning that group. That is all this part(see video) is doing. Those two sections are actually independent. So this one is what helps you set. [00:32:52](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h32m52s) I want to return a specific group. This part helps you set any users you want to exclude. This specific feature here, ensures that only one record per user is set. Let's say a user has already been added to a previous record, then that user should not show up again. [00:33:18](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h33m18s) It should be removed from the list. This is what this PHP is doing. It's simply looking to this current view and checking if there is users and getting their ID's. And then setting them up in the correct manner. They are unique and then returns them. [00:33:36](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h33m36s) Those are the users that already have. If you are building something which are supposed to have student details, for example, you don't want a student to have more than one entry in that table, you want every student to just have one in. [00:33:58](https://www.youtube.com/watch?v=VpzYbifHTMLqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h33m58s) And so if a student already is selected, you wouldn't want them to be selected again, that's what this exclude feature does. 

Now to show that to you in the code. Let's go to another project that I am working on called learning manager and models. And they have a field called studentusers and studentuser. [00:34:27](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h34m27s) There are two kinds of ways to do this. One is to not allow more than one user to have an entry. And the one is saying exclude users that already have been used. So that means if a user have been selected that whole thing that I've just explained. [00:34:52](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h34m52s) The other one returns null. Which means it will always show all users. And the way to have it set this to null would be simply to remove that part(selected on video) of the code. Then it will automatically set this(return null) value to null, component builder will do that. When I gets about the group part it's the same principle. [00:35:19](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h35m19s) If you don't want it to just show a specific group, you can actually set it to null. Like that(return null) and component builder will do that. All you need to do is simply remove what is part of the code. And it will actually do that. And that is to target a specific group. [00:35:48](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h35m48s) And also to target or to remove specific users. Let's say that you want to remove users that belongs to other table or other structure, then all that PHP that you need to write, you can place it on the type_phpx. [00:36:11](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h36m11s) So you could do that type_phpx1=. All your PHP can be placed in here for excluding. And for the group, it's simply, not directly one, it must have an underscore(_). [00:36:33](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h36m33s) You can just take that one. And this one will be used for the groups. It says it there Getexcluded method. PHP for the getgroup method. And in the code which is stored under fields, models. You will see what it will do. You can do things and then come and look [00:36:59](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h36m59s) what did component builder build. How does it look then. You can go to the view like we have here. And see does it's actually work? Is the preachers showing up? And then you can use firebug like that, and you can look, that one is [00:37:24](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h37m24s) of the index. You will use that(preacher). Here is a select list. And here you have the values. So that's the IDs and that is the actual name of the speaker. The ID and the name. That is how it should display the data.  Component Builder sets up the XML structure that Joomla uses [00:37:53](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h37m53s) to build this. Joomla is building this whole structure for you. So even this nice button and everything is Joomla's handiwork. It is doing that for you and this is all done through these XML [00:38:08](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h38m08s) input values that you are adding here. So you would change the type to, you might say, staff members. 

There is something to remember here. The type names may not have underscores or any spaces in them. Anything that is not translatable usually needs to be [00:38:35](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h38m35s) not have any spaces. So you can't do this(add spaces). It will not work. So you must remove the underscore. You can do that(Uppercase M) but that will be made lowercase anyway. [00:38:57](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h38m57s) So you could just do that(lowercase m) instead. It will work because that is used not only in the file database but it's also used in the name convention and everywhere this file type is. So as you can see in here(code) that file type is called studentusers. And even the file is called that(studentusers). [00:39:21](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h39m21s) And here it is called studentuser, and here it is called studentuser. And this one(jformfieldstudentusers) is with the s. That one(studentusers) with a s. In the file is also with a s. So you can see that specific type name is used everywhere. And you cannot have underscores in this class name. Neither in this type name. [00:39:46](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h39m46s) Maybe you can but so far my experience is that it doesn't work if you do have it. For some reason it doesn't work. That's just a heads up on naming of this type. So you can update these fields. They are mostly fields that are [00:40:07](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h40m07s) related to all the other fields. But this one specifically says extends user. It shows you how it's going to extend it. So if you removed all the PHP then this field as it is now, will show all users everytime. Let me just [00:40:28](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h40m28s) close out here. That is looking at the advanced field type called custom user.

**Repeatable Custom Fields**

Another one we need to look at is the repeatable fields. Repeatable fields is actually not that difficult but you need to understand how it's structured. You need to first create the fields that you want to repeat inside of repeatable fields. The way repeatable field structure looks [00:40:55](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h40m55s) in Joomla, I mean when we look at it in the actual application. Let me see where did I used a repeatable field. OK here we have one. So this from there all the way to there(see video) is one repeatable field. And if you know a little XML and you worked with repeatable fields, you'll see that [00:41:23](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h41m23s) here is the the fields that are being repeated inside of the repeatable field. Repeatable field is a field type that has other fields inside of it. Now you don't need to write any of this. The way you would structure a repeatable field is very simple. [00:41:47](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h41m47s) You first create the fields that you want to repeat. And do realize you can't use repeatable fields in repeatable fields. But you can use custom advanced fields in repeatable fields. 

So if you look at that we have here again you see there is a field type called: 'cause and risks'. If you know Joomla you would know there is no such field type 'cause and risks'. So that means this is a custom field. If I were to go to fields, [00:42:16](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h42m16s) you will see there is a field called 'cause and risks'. And it gets it information from this database table. This is another component that I've done with component builder. And it is [00:42:35](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h42m35s) displaying those data. Also making some model changes to the data. And adding some style to it. Nonbreaking space and stuff like that. That is just dealing with the cause and risks.  

So looking again at our repeatable field you're able to add an advance custom field inside of it. [00:43:00](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h43m00s) But what you need to add it, is let's open females for our example as you need to have the field ID and you need to order it according to the order you want to displayed in the line [00:43:17](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h43m17s) where you do repeatable fields. If we close here and then we go back to creating a new admin view and I click on fields, you will see that there is 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, fields in one row. If I click next they all appear again, [00:43:43](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h43m43s) and if I click next they all appear again. And that's what repeatable fields is about. Now this structure, these fields if we would look at it how did I develop this specific pop-up repeatable structure. I can show that to you. Here is a list of all the repeatable fields that I've already built. This three pages of 20. [00:44:08](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h44m08s) If we were to click on add fields for views, open that, this is the repeatable field for adding fields for views. All you see here as I'm saying you could add 800 fields it way over kill. But ok. [00:44:37](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h44m37s) And we call him the button add. 

**Joomla Icons Info & link**

So if we go back to the view, see it says add. Then I'm adding an ID in a class to it. A description which if we were to hover over it here(fields) it has a little setup fields for this view which is the description. [00:44:59](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h44m59s) Same there(discription) see and the label is fields. So it says there fields. Then the icon is list. Now the icon is what is shown in the button. That is a list. All that custom Joomla icons [00:45:17](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h45m17s) can can be used. And to know these icons you should go to a URL Docs.joomla.org/J3.x:Joomla_Standard_Icomoon_ fonts. That is the URL and you'll get to this(Available Icomoon Icons) page. [00:45:41](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h45m41s) These are all the available icons and you basically use that(contract-2 and checkmark-circle) parts. If I wanted to checkmark-circle, copy checkmark-circle and I would [00:46:02](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h46m02s) change the icon to checkmark-circle. So that's how you change the icon and then these are simply the ID's of the fields I want inside of the repeatable field. If I was to [00:46:22](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h46m22s) show you where to get the ID, it simply would be close your repeatable field. And you'd see the ID is next to the fields there on the right. So you would create the fields that you want to use in the repeatable field. And you would get a list of those ID's jotted down somewhere in a notepad or something. Just add them in the [00:46:51](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h46m51s) order that you want them to be added. Then inside of your repeatable field you would simply paste it in the fields area with a comma separating them. And then component builder will dynamically construct this whole structure for you [00:47:11](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h47m11s) and add it to your component. I think it's really stunning and I hope you enjoy using the repeatable fields structure. I know it's little buggy still and there's a lot of talk about it not being as stable. But your normal basic fields like text fields and radio buttons and so forth they all work well. The only thing about the radio buttons that you use in [00:47:39](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h47m39s) the repeatable fields you need to remove the class ff your radio button. It cannot be a button. It must be a dot unfortunately they don't yet make it possible to actually load the button. Now what's the difference? [00:47:59](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h47m59s) The difference is, let me see if I can quickly show you. That(Add CSS YES/NO) is the button version of a radio button. That(searcable Yes/No) is the dot version of the radio button. And it doesn't look like a button. [00:48:20](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h48m20s) In your repeatable fields you cannot use the button version. It needs to be this one(searcable Yes/No). What makes it a button? It is the class that is being added to the field. So you need to remove the class values from your radio button if it's going to be used in the [00:48:38](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h48m38s) repeatable field. If you forgot to do that and you compile your component and now you are looking at the repeatable field you'll see that the radio button is not working, but that it messed up until they possibly fix it. This is unfortunately the case. That is looking at advanced fields [00:49:04](https://www.youtube.com/watch?v=VpzYbifqv0M&list=PLQRGFI8XZ_wtGvPQZWBfDzzlERLQgpMRE&t=00h49m04s) called custom fields, custom user fields, as well as repeatable fields. These are really the advanced field types that there are. 